---
import { trainers } from "../assets/data/trainers_aboutUs";
import { Image } from "astro:assets";
import Layout from "../layouts/Layout.astro";
const URL_MAIN = import.meta.env.BASE_URL;
---

<Layout>
  <section
    class="relative flex items-center overflow-hidden bg-zinc-950"
    aria-labelledby="hero-title"
  >
    <div class="absolute inset-0 z-0">
      <div
        class="absolute inset-0 bg-linear-to-r from-zinc-950 via-zinc-950/80 to-transparent"
      >
      </div>
    </div>

    <div
      class="relative z-10 max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 sm:pt-28 w-full"
    >
      <div class="max-w-xl lg:max-w-3xl">
        <nav class="mb-6 sm:mb-8" aria-label="Breadcrumb">
          <a
            href={URL_MAIN}
            class="inline-flex items-center gap-2 text-zinc-400 hover:text-white transition-colors group"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="transition-transform group-hover:-translate-x-1"
              ><line x1="19" y1="12" x2="5" y2="12"></line><polyline
                points="12 19 5 12 12 5"></polyline></svg
            >
            <span class="text-sm">Volver al inicio</span>
          </a>
        </nav>

        <header class="flex items-center gap-4 mb-5 sm:mb-6">
          <div
            class="w-10 h-10 sm:w-12 sm:h-12 rounded-lg bg-brand-green flex items-center justify-center shadow-[0_0_20px_rgba(var(--brand-green-rgb),0.3)]"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="black"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="sm:w-6 sm:h-6"
              ><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"
              ></path><circle cx="9" cy="7" r="4"></circle><path
                d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path
                d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg
            >
          </div>
          <span
            class="text-brand-green font-bold uppercase tracking-widest text-xs sm:text-sm"
            >Staff Técnico Especializado</span
          >
        </header>

        <h1
          id="hero-title"
          class="text-3xl sm:text-5xl lg:text-7xl 2xl:text-8xl font-black text-white tracking-tighter mb-6 sm:mb-8 uppercase italic text-balance"
        >
          Profesionales de <span class="text-brand-green">élite</span>
        </h1>

        <p
          class="text-base sm:text-lg lg:text-xl text-zinc-300 leading-relaxed mb-8 sm:mb-10 max-w-2xl"
        >
          Nuestra experiencia y conocimientos especializados garantizan un
          entrenamiento de calidad y resultados excepcionales para nuestros
          deportistas.
        </p>
      </div>
    </div>
  </section>

  <section class="py-12 2xl:py-24 bg-white relative">
    <div class="max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="team-container">
        <div
          class="grid grid-cols-4 md:grid-cols-8 gap-3 sm:gap-4 mb-16"
        >
          {
            trainers.map((trainer, idx) => (
              <button
                type="button"
                data-id={trainer.id}
                class={`trainer-btn cursor-pointer group w-full p-0 border-0 bg-transparent ${idx === 0 ? "active" : ""}`}
                aria-label={`Ver perfil de ${trainer.name}`}
              >
                <div class="relative aspect-square rounded-2xl overflow-hidden grayscale group-[.active]:grayscale-0 group-[.active]:ring-4 ring-brand-green transition-all duration-500 group-hover:grayscale-0 group-hover:scale-105 shadow-lg">
                  <Image
                    src={trainer.image}
                    alt={trainer.name}
                    width={200}
                    height={200}
                    class="w-full h-full object-cover"
                  />
                  <div class="absolute inset-0 bg-zinc-950/20 group-[.active]:bg-transparent" />
                </div>
              </button>
            ))
          }
        </div>

        <div class="relative">
          {
            trainers.map((trainer, idx) => (
              <div
                id={`info-${trainer.id}`}
                class={`trainer-info-card transition-all duration-700 ${idx === 0 ? "relative z-10 opacity-100 visible translate-y-0" : "absolute top-0 left-0 w-full z-0 opacity-0 invisible translate-y-8"}`}
              >
                <div class="bg-zinc-50 border-2 border-zinc-200 rounded-[2.5rem] p-6 sm:p-10 2xl:p-24 grid lg:grid-cols-[1fr_1.8fr] gap-12 sm:gap-16 items-start shadow-2xl shadow-zinc-200/50">
                  <div class="text-center lg:text-left">
                    <h3 class="text-4xl 2xl:text-7xl font-black text-zinc-900 uppercase leading-none tracking-tighter italic">
                      {trainer.name}
                    </h3>
                    <p class="text-brand-green font-black uppercase text-sm 2xl:text-2xl mt-3 tracking-widest">
                      {trainer.role}
                    </p>
                  </div>

                  <div class="space-y-8 2xl:space-y-16">
                    <div>
                      <h4 class="text-[10px] 2xl:text-lg font-black uppercase tracking-[0.2em] text-zinc-400 mb-3 flex items-center gap-2">
                        <span class="w-8 h-0.5 bg-brand-green" /> Especialidad
                      </h4>
                      <p class="text-2xl sm:text-3xl 2xl:text-5xl font-black text-zinc-950 italic uppercase tracking-tight">
                        {trainer.specialization}
                      </p>
                    </div>

                    <div class="relative">
                      <p class="text-zinc-600 text-base sm:text-lg 2xl:text-3xl leading-relaxed italic font-medium relative z-10">
                        {trainer.description}
                      </p>
                    </div>

                    <div class="pt-8 border-t-2 border-zinc-200">
                      <h4 class="text-[10px] 2xl:text-lg font-black uppercase tracking-[0.2em] text-zinc-400 mb-6">
                        Certificaciones y Formación
                      </h4>
                      <ul class="grid sm:grid-cols-2 gap-x-8 gap-y-4">
                        {trainer.credentials.map((cred) => (
                          <li class="text-[11px] sm:text-xs 2xl:text-xl font-bold flex items-start gap-3 text-zinc-800 uppercase tracking-tight text-balance">
                            <svg
                              class="w-4 h-4 text-brand-green shrink-0 mt-0.5"
                              fill="none"
                              viewBox="0 0 24 24"
                              stroke="currentColor"
                              stroke-width="3"
                            >
                              <polyline points="20 6 9 17 4 12" />
                            </svg>
                            {cred}
                          </li>
                        ))}
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            ))
          }
        </div>
      </div>
    </div>
  </section>
</Layout>

<script>
  const buttons = document.querySelectorAll(".trainer-btn");
  const cards = document.querySelectorAll(".trainer-info-card");

  buttons.forEach((btn) => {
    btn.addEventListener("click", () => {
      buttons.forEach((b) => b.classList.remove("active"));
      btn.classList.add("active");

      const targetId = `info-${btn.getAttribute("data-id")}`;

      cards.forEach((card) => {
        if (card.id === targetId) {
          card.classList.remove(
            "absolute",
            "top-0",
            "left-0",
            "w-full",
            "z-0",
            "opacity-0",
            "invisible",
            "translate-y-8",
          );
          card.classList.add(
            "relative",
            "z-10",
            "opacity-100",
            "visible",
            "translate-y-0",
          );
        } else {
          card.classList.remove(
            "relative",
            "z-10",
            "opacity-100",
            "visible",
            "translate-y-0",
          );
          card.classList.add(
            "absolute",
            "top-0",
            "left-0",
            "w-full",
            "z-0",
            "opacity-0",
            "invisible",
            "translate-y-8",
          );
        }
      });
    });
  });
</script>

<style>
  .text-stroke-thin {
    -webkit-text-stroke: 1px rgba(198, 255, 0, 0.3);
  }
</style>
